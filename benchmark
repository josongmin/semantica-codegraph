#!/bin/bash
# ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸

cd "$(dirname "$0")"

# ê¸°ë³¸ ì‹¤í–‰
if [ $# -eq 0 ]; then
    python3 benchmarks/run.py
    exit $?
fi

# ì¸ì ì „ë‹¬
case "$1" in
    quick|fast)
        echo "ğŸš€ ë¹ ë¥¸ ë²¤ì¹˜ë§ˆí¬ (5ê°œ ì¿¼ë¦¬)"
        python3 benchmarks/quickstart.py
        ;;
    eval|evaluate)
        echo "ğŸ“Š ì •í™•ë„ í‰ê°€"
        python3 benchmarks/run.py --evaluate
        ;;
    cody)
        echo "ğŸ¤– Cody ë¹„êµ"
        python3 benchmarks/run.py --with-cody
        ;;
    full)
        echo "ğŸ“ˆ ì „ì²´ ë²¤ì¹˜ë§ˆí¬"
        python3 -m benchmarks.compare \
            --repo-id semantica-codegraph \
            --queries benchmarks/datasets/semantica_queries.txt \
            --ground-truth benchmarks/datasets/semantica_ground_truth.json \
            --k 5
        ;;
    help|--help|-h)
        echo "ì‚¬ìš©ë²•: ./benchmark [ëª…ë ¹]"
        echo ""
        echo "ëª…ë ¹:"
        echo "  (ì—†ìŒ)     ëŒ€í™”í˜• ë²¤ì¹˜ë§ˆí¬ (ê¸°ë³¸)"
        echo "  quick      ë¹ ë¥¸ ë²¤ì¹˜ë§ˆí¬ (5ê°œ ì¿¼ë¦¬)"
        echo "  eval       ì •í™•ë„ í‰ê°€"
        echo "  cody       Codyì™€ ë¹„êµ"
        echo "  full       ì „ì²´ ë²¤ì¹˜ë§ˆí¬"
        echo "  help       ì´ ë„ì›€ë§"
        ;;
    *)
        python3 benchmarks/run.py "$@"
        ;;
esac

